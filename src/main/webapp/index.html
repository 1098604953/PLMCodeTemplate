<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
.selected {
	background-color: yellow;
}
</style>
</head>
<body>
	<div id="userinfo"></div>
	<form id="formLogin" action="login" method="post">
		用户名：<input name="username">
		<button type="submit">模拟登陆</button>
	</form>
	<a id="lang_zh" href="###" onclick="javacript:switchLang('zh')">中文</a>
	<a id="lang_en" href="###" onclick="javacript:switchLang('en')">英文</a>
	<b>(只演示后台国际化)</b>
	<hr />

	<form id="formConfig" action="config/add" method="post">
		配置项名称：<input name="name"><br /> 配置项取值：<input name="value"><br />
		<button type="submit">提交</button>
	</form>
	<hr />

	<div id="configs"></div>

	<h1>接口规范</h1>

	<script id="configTemplate" type="text/html">
<div>
    <%if(list.length>0) { %>
        <h3>输出所有数据，共有<%=list.length%>个元素</h3>
        <ul>
            <!-- 循环语句 for-->
            <%for(var i=0; i < list.length; i++){%>
                <li><%=list[i].name%> <a href="###" onclick="javascirpt:deleteConfig(<%=list[i].id%>)">删除<a/></li>
            <%}%>
        </ul>
    <%}else{%>
        <h2>没有数据</h2>   
    <%}%>
</div>  
	</script>

	<script data-main="resources/main" src="resources/require.js" ></script>

	<script type="text/javascript">
		function switchLang(lang) {
			$.cookie('lang', lang);

			$('.selected').removeClass('selected');
			$('#lang_' + lang).addClass("selected");
		}

		$(document).ready(function() {
			switchLang($.cookie('lang'));

			fetchAllConfigs();

			// 新增
			$('#formConfig').ajaxForm(function(result) {
				console.log('add result', result);
				handlerResult(result, fetchAllConfigs);
			});

			// 新增
			$('#formLogin').ajaxForm(function(result) {
				console.log('login result', result);
				handlerResult(result, loginDone);
			});
		});
	</script>
</body>
</html>